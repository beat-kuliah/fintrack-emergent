(()=>{var e={};e.id=423,e.ids=[423],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},9051:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(7165),s(1506),s(5866);var a=s(3191),r=s(8716),c=s(7922),n=s.n(c),l=s(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let o=["",{children:["accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7165)),"/app/frontend-user/app/accounts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/app/frontend-user/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/frontend-user/app/accounts/page.tsx"],u="/accounts/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/accounts/page",pathname:"/accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8585:(e,t,s)=>{Promise.resolve().then(s.bind(s,5979))},5979:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(326),r=s(7577),c=s(6211),n=s(2643),l=s(772),i=s(6384),o=s(1048),d=s(2288),u=s(4474),x=s(4464),h=s(6671),p=s(5842),m=s(7069),j=s(8916),y=s(3855),g=s(8091);let b="http://localhost:8001/api";function v(){let[e,t]=(0,r.useState)([]),[s,v]=(0,r.useState)(!0),[f,N]=(0,r.useState)(!1),[w,q]=(0,r.useState)({name:"",type:"bank",balance:"",currency:"IDR"}),_=async()=>{let e=localStorage.getItem("token");if(e)try{let s=await x.Z.get(`${b}/accounts`,{headers:{Authorization:`Bearer ${e}`}});t(s.data||[])}catch(e){console.error("Failed to fetch accounts",e)}finally{v(!1)}},A=async e=>{e.preventDefault();let t=localStorage.getItem("token");if(t)try{await x.Z.post(`${b}/accounts`,{name:w.name,type:w.type,balance:parseFloat(w.balance)||0,currency:w.currency},{headers:{Authorization:`Bearer ${t}`}}),N(!1),q({name:"",type:"bank",balance:"",currency:"IDR"}),_()}catch(e){alert(e.response?.data?.error||"Failed to create account")}},k=async e=>{if(!confirm("Are you sure you want to delete this account?"))return;let t=localStorage.getItem("token");if(t)try{await x.Z.delete(`${b}/accounts/${e}`,{headers:{Authorization:`Bearer ${t}`}}),_()}catch(e){alert(e.response?.data?.error||"Failed to delete account")}},C=e=>{switch(e){case"bank":default:return a.jsx(h.Z,{className:"h-6 w-6"});case"wallet":return a.jsx(p.Z,{className:"h-6 w-6"});case"investment":return a.jsx(m.Z,{className:"h-6 w-6"});case"credit_card":return a.jsx(j.Z,{className:"h-6 w-6"})}};return s?a.jsx(c.Z,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{children:"Loading..."})})}):a.jsx(c.Z,{children:(0,a.jsxs)("div",{className:"space-y-6","data-testid":"accounts-page",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Accounts"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your financial accounts"})]}),(0,a.jsxs)(l.z,{onClick:()=>N(!0),"data-testid":"add-account-button",children:[a.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Add Account"]})]}),(0,a.jsxs)(n.Zb,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{className:"text-white",children:"Total Balance"}),(0,a.jsxs)(n.SZ,{className:"text-blue-100",children:["Across all ",e.length," accounts"]})]}),a.jsx(n.aY,{children:(0,a.jsxs)("p",{className:"text-4xl font-bold",children:["Rp ",e.reduce((e,t)=>e+t.balance,0).toLocaleString("id-ID")]})})]}),(0,a.jsxs)(n.Zb,{"data-testid":"accounts-list",children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Your Accounts"}),a.jsx(n.SZ,{children:"All your financial accounts in one place"})]}),a.jsx(n.aY,{children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-12","data-testid":"no-accounts-message",children:[a.jsx(h.Z,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"No accounts yet. Create your first account to get started."}),(0,a.jsxs)(l.z,{onClick:()=>N(!0),children:[a.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Create Account"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors","data-testid":`account-item-${e.id}`,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-full text-blue-600",children:C(e.type)}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:e.type.replace("_"," ")})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"font-bold text-xl",children:[e.currency," ",e.balance.toLocaleString("id-ID")]})}),a.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>k(e.id),"data-testid":`delete-account-${e.id}`,children:a.jsx(g.Z,{className:"h-4 w-4 text-red-500"})})]})]},e.id))})})]}),a.jsx(d.Vq,{open:f,onOpenChange:N,children:(0,a.jsxs)(d.cZ,{"data-testid":"add-account-dialog",children:[(0,a.jsxs)(d.fK,{children:[a.jsx(d.$N,{children:"Add New Account"}),a.jsx(d.Be,{children:"Create a new financial account to track your balance"})]}),(0,a.jsxs)("form",{onSubmit:A,children:[(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(o._,{htmlFor:"name",children:"Account Name"}),a.jsx(i.I,{id:"name",placeholder:"e.g., Main Bank Account",value:w.name,onChange:e=>q({...w,name:e.target.value}),required:!0,"data-testid":"account-name-input"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(o._,{htmlFor:"type",children:"Account Type"}),(0,a.jsxs)(u.Ph,{value:w.type,onValueChange:e=>q({...w,type:e}),children:[a.jsx(u.i4,{"data-testid":"account-type-select",children:a.jsx(u.ki,{})}),(0,a.jsxs)(u.Bw,{children:[a.jsx(u.Ql,{value:"bank",children:"Bank"}),a.jsx(u.Ql,{value:"wallet",children:"Wallet"}),a.jsx(u.Ql,{value:"investment",children:"Investment"}),a.jsx(u.Ql,{value:"credit_card",children:"Credit Card"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(o._,{htmlFor:"balance",children:"Initial Balance"}),a.jsx(i.I,{id:"balance",type:"number",step:"0.01",placeholder:"0",value:w.balance,onChange:e=>q({...w,balance:e.target.value}),"data-testid":"account-balance-input"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(o._,{htmlFor:"currency",children:"Currency"}),(0,a.jsxs)(u.Ph,{value:w.currency,onValueChange:e=>q({...w,currency:e}),children:[a.jsx(u.i4,{"data-testid":"account-currency-select",children:a.jsx(u.ki,{})}),(0,a.jsxs)(u.Bw,{children:[a.jsx(u.Ql,{value:"IDR",children:"IDR (Rupiah)"}),a.jsx(u.Ql,{value:"USD",children:"USD (Dollar)"}),a.jsx(u.Ql,{value:"EUR",children:"EUR (Euro)"})]})]})]})]}),(0,a.jsxs)(d.cN,{children:[a.jsx(l.z,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),a.jsx(l.z,{type:"submit","data-testid":"submit-account-button",children:"Create Account"})]})]})]})})]})})}},7165:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/app/frontend-user/app/accounts/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[819,8,730,954,755],()=>s(9051));module.exports=a})();